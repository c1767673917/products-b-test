# 分页功能修改测试

## 修改内容总结

### 1. 主要修改
- 将硬编码的 `itemsPerPage: 20` 改为 `itemsPerPage: 0`（0表示显示全部）
- 更新了所有相关组件和逻辑以支持"显示全部"功能

### 2. 修改的文件
1. **ProductListWithQuery.tsx**
   - 初始值改为 `useState(0)`
   - 更新分页逻辑支持显示全部
   - 更新每页数量选项为 `[0, 20, 100, 500]`

2. **ProductList.tsx**
   - 更新分页逻辑支持显示全部
   - 更新每页数量选项为 `[0, 20, 100, 500]`

3. **productStore.ts**
   - 初始值改为 `itemsPerPage: 0`

4. **Pagination.tsx**
   - 支持0值表示"全部"
   - 更新显示逻辑和选择器文本
   - 默认选项包含0

5. **useUrlFilters.ts**
   - 更新URL同步逻辑，0为默认值不添加到URL

### 3. 功能特性
- **0值表示显示全部**：当 `itemsPerPage = 0` 时显示所有产品
- **选择器显示"全部"**：下拉选择器中0值显示为"全部"
- **智能分页显示**：显示全部时隐藏页码导航，但保留选择器
- **URL同步**：0作为默认值不会添加到URL参数中
- **状态持久化**：用户选择会保存到localStorage

### 4. 测试要点
1. 页面首次加载应该显示全部产品
2. 可以从"全部"切换到分页模式（20/100/500）
3. 可以从分页模式切换回"全部"
4. URL参数正确同步
5. 状态在页面刷新后保持
6. 筛选和搜索功能正常工作

### 5. 预期行为
- **默认状态**：显示全部产品，不显示页码导航
- **切换到分页**：显示页码导航和分页功能
- **切换回全部**：隐藏页码导航，显示所有产品
- **性能考虑**：大量产品时可能需要虚拟滚动优化
